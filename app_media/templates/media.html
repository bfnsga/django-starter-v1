{% extends "base.html" %}

{% block title %}Dashboard{% endblock %}

{% block content %}
<div class="header">
    <div class="header-title">
        <div class="header-svg-bg">
            <svg xmlns="http://www.w3.org/2000/svg" class="header-svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                <path d="M15 8l.01 0"></path>
                <path d="M4 4m0 3a3 3 0 0 1 3 -3h10a3 3 0 0 1 3 3v10a3 3 0 0 1 -3 3h-10a3 3 0 0 1 -3 -3z"></path>
                <path d="M4 15l4 -4a3 5 0 0 1 3 0l5 5"></path>
                <path d="M14 14l1 -1a3 5 0 0 1 3 0l2 2"></path>
            </svg>
        </div>
        <h1>
            Media
        </h1>
    </div>
</div>
<div class="border-b-2 border-slate-100"></div>
<div class="grid grid-cols-2 gap-2 pt-4">
    {% for image in images %}
    <div class="w-full h-[28rem] flex justify-center items-center overflow-hidden rounded relative group bg-slate-100">
        <a href="https://d2jtmlwqostu9r.cloudfront.net/{{ organization_id }}/{{ image.filename_disk }}" target="_blank" class="cursor-zoom-in">
            <div class="absolute inset-0 group-hover:bg-slate-800/10 mix-blend-multiply"></div>
            <div class="absolute top-0 right-0 cursor-zoom-in">
                <div class="hidden group-hover:flex items-center space-x-2 p-2">
                    <a href="https://d2jtmlwqostu9r.cloudfront.net/{{ organization_id }}/{{ image.filename_download }}">
                        <div class="bg-slate-900/40 rounded-full px-2.5 py-1 hover:bg-slate-900/60 flex items-center space-x-1 text-slate-200">
                            <!-- Download -->
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-[1rem] w-[1rem] text-inherit" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                <path d="M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"></path>
                                <path d="M7 11l5 5l5 -5"></path>
                                <path d="M12 4l0 12"></path>
                            </svg>
                            <span class="text-[0.85rem]">
                                Download
                            </span>
                        </div>
                    </a>
                    <div>
                        <button id="imageLink_{{ image.filename_disk }}" class="bg-slate-900/40 rounded-full px-2.5 py-1 hover:bg-slate-900/60 flex items-center space-x-1 text-slate-200">
                            <!-- Copy -->
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-[1rem] w-[1rem] text-inherit" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                <path d="M8 8m0 2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2z"></path>
                                <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
                            </svg>
                            <span class="text-[0.85rem]">
                                Copy
                            </span>
                        </button>
                    </div>
                </div>
            </div>
            <div class="absolute bottom-0 right-0 cursor-zoom-in">
                <div class="hidden group-hover:flex items-center space-x-2 p-2">
                    <a href="https://example.com">
                        <div class="bg-slate-900/40 rounded-full p-[0.45rem] hover:bg-slate-900/60">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-[1.40rem] w-[1.40rem] text-white" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                <path d="M4 7l16 0"></path>
                                <path d="M10 11l0 6"></path>
                                <path d="M14 11l0 6"></path>
                                <path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"></path>
                                <path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"></path>
                            </svg>
                        </div>
                    </a>
                    <a href="https://example.com">
                        <div class="bg-slate-900/40 rounded-full p-[0.45rem] hover:bg-slate-900/60">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-[1.40rem] w-[1.40rem] text-white" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                <path d="M3 4m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"></path>
                                <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10"></path>
                                <path d="M10 12l4 0"></path>
                            </svg>
                        </div>
                    </a>
                    <a href="https://example.com">
                        <div class="bg-slate-900/40 rounded-full p-[0.335rem] hover:bg-slate-900/60">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-[1.55rem] w-[1.55rem] text-white" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                <path d="M5 12l5 5l10 -10"></path>
                            </svg>
                        </div>
                    </a>
                </div>
            </div>
            <img src="https://d2jtmlwqostu9r.cloudfront.net/{{ organization_id }}/{{ image.filename_disk }}" class="" alt="">
        </a>
    </div>
    {% endfor %}
</div>
{% endblock %}
{% block scripts %}
<script nonce="{{request.csp_nonce}}">
    window.onload = (event) => {
        const getEl = id => document.getElementById(id);
        /************************/
        /** FORM - Update Name **/
        /************************/
        const imageLinks = document.querySelectorAll("[id^='imageLink_']");

        for (let i = 0; i < imageLinks.length; i++) {
            imageLinks[i].addEventListener('click', event => {
                const buttonId = imageLinks[i].id;
                const array = buttonId.split('_');
                const imageId = array[1];

                const imageLink = "https://d2jtmlwqostu9r.cloudfront.net/" + '{{ organization_id }}/' + imageId

                // Copy the text inside the text field
                navigator.clipboard.writeText(imageLink);
            });
        };

        /************************/
        /** Message Notification **/
        /************************/
        {% if messages %}
        getEl('close_message').addEventListener('click', event => {
            getEl('message-notification').classList.add('hidden');
        });
        {% endif %}
    };
</script>
{% endblock %}